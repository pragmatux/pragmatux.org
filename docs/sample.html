<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.5.2" />
<title>Quick-Start Guide for the DragonBoard&#8482; 8060</title>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes();}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>


<!-- RYAN: add css, remove embedded styles -->
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="http://pragmatux.com/css/iconic/iconic_fill.css">
  <link rel="stylesheet" href="http://pragmatux.com/bootstrap/css/bootstrap.css">
  <link rel="stylesheet" href="http://pragmatux.com/bootstrap/css/bootstrap-responsive.css">
  <link rel="stylesheet" href="http://pragmatux.com/css/main.css">

</head>
<body>

<!-- RYAN: add header -->
<div class="header">
  <div class="container phone-pad">
    <a class="block" href="http://pragmatux.com">
      <img class="pull-left" src="http://pragmatux.com/img/pragmatux.png" alt="Pragmatic Embedded Linux">
      <h1 class="logo pull-left">Pragma<span class="f-normal">tux</span></h1>
    </a>

    <a class="nav pull-right" href="http://pragmatux.com/documentation.html"><i class="iconic book_alt2"></i> Documentation</a>
  </div>
</div>

<!-- RYAN: can you wrap the content? (close immediately before </body>) -->
<div class="doc">
<div class="container phone-pad">



<div id="header">
<h1>Quick-Start Guide for the DragonBoard&#8482; 8060</h1>
<span id="author">Ryan Kuester</span><br />
<span id="email"><tt>&lt;<a href="mailto:rkuester@insymbols.com">rkuester@insymbols.com</a>&gt;</tt></span><br />
<span id="revnumber">version Pre-Release Draft</span>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>This is a brief guide to creating a Pragmatux Workstation development
environment and Pragmatux Device filesystem images for the DragonBoard&#8482; 8060
target. See the more general and thorough <a href="users-manual.html">Pragmatux
Users Manual</a> to learn the magic behind these steps, and consult the
<a href="users-manual-db8060.html">Pragmatux Users Manual for DragonBoard&#8482; 8060</a>
for topics specific to the DragonBoard&#8482; 8060.</p></div>
</div>
</div>
<h2 id="_setup_a_pragmatux_workstation">1. Setup a Pragmatux Workstation</h2>
<div class="sectionbody">
<div class="paragraph"><p>The development environment for creating programs, packages, and filesystem
images is a desktop, laptop, or server running the Squeeze version of the
Debian Linux distribution. That environment is called the <em>workstation</em>.
The DragonBoard&#8482; is called the <em>device</em>.</p></div>
<div class="paragraph"><p>The workstation need not be a physical machine; it is common to use a
virtual machine or a chroot within another operating system; however, the
workstation must be of the <em>amd64</em> architecture.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Install Debian Squeeze
</p>
<div class="paragraph"><p>Begin by <a href="http://www.debian.org/releases/squeeze/amd64">installing the Debian
Squeeze operating system</a> on any amd64 architecture machine.</p></div>
</li>
<li>
<p>
Add package sources for Pragmatux Workstation
</p>
<div class="paragraph"><p>There are several ways of adding package sources to the newly installed Debian
OS, including GUI tools; but, the simplest way is to create the
following file:</p></div>
<div class="listingblock">
<div class="content">
<pre><tt># filename: /etc/apt/sources.list.d/pragmatux-db8060.list
deb http://packages.pragmatux.org/workstation alpha main
deb http://emdebian.org/debian squeeze main</tt></pre>
</div></div>
<div class="paragraph"><p>Then have the package management system read the contents of the package
sources:</p></div>
<div class="literalblock">
<div class="content">
<pre><tt># apt-get update</tt></pre>
</div></div>
<div class="paragraph"><p>For now, ignore the warning about the inability to verify the authenticity of
the Emdebian package repository.</p></div>
</li>
<li>
<p>
Install the workstation package tree for DragonBoard&#8482; 8060 development
</p>
<div class="literalblock">
<div class="content">
<pre><tt># apt-get install ptux-workstation-db8060</tt></pre>
</div></div>
<div class="paragraph"><p>This will install tens of packages containing the tools and code
libraries essential for cross-development targeting the DragonBoard&#8482;. Answer
&#8220;yes&#8221; when prompted whether to continue, despite the warning about the
inability to authenticate several of the packages.</p></div>
</li>
</ol></div>
</div>
<h2 id="_create_device_filesystem_images">2. Create device filesystem images</h2>
<div class="sectionbody">
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Optionally set an HTTP proxy (recommended)
</p>
<div class="literalblock">
<div class="content">
<pre><tt>$ export http_proxy=http://localhost:3142</tt></pre>
</div></div>
</li>
<li>
<p>
Compose a filesystem containing the default package tree
</p>
<div class="literalblock">
<div class="content">
<pre><tt>$ mkdir wrk
$ cd wrk
$ mkos-db8060</tt></pre>
</div></div>
<div class="paragraph"><p>This will create two files, <em>boot.img</em> containing the kernel and initramfs, and
<em>ptux.img</em> containing the root filesystem. They will be written to the
DragonBoard&#8482;'s eMMC storage in subsequent steps.</p></div>
</li>
</ol></div>
<div class="paragraph"><p>Without arguments, mkos-db8060 uses a default configuration which names the
packages with which to compose the filesystem and the package repositories from
which they are downloaded. Projects and individual developers can define their
own configurations, which are passed to mkos-db8060 to override the default.</p></div>
</div>
<h2 id="_write_device_filesystem_images_to_emmc_storage">3. Write device filesystem images to eMMC storage</h2>
<div class="sectionbody">
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Put DragonBoard&#8482; 8060 into <em>fastboot</em> mode
</p>
<div class="paragraph"><p>While holding down the #5 key on the keypad, boot the DragonBoard&#8482; by
cycling power. Release the key shortly thereafter. The DragonBoard&#8482;
bootloader will pause in fastboot mode, listening to commands from a fastboot
client.</p></div>
</li>
<li>
<p>
Connect the DragonBoard&#8482; USB device port to the workstation and verify
connectivity
</p>
<div class="paragraph"><p>After making the USB connection and giving workstation a few seconds to
enumerate the new device, run the fastboot client to verify connectivity to the
bootloader.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt># fastboot devices</tt></pre>
</div></div>
<div class="paragraph"><p>If the client is able to talk to the bootloader, it will print the serial
number of the DragonBoard&#8482;.</p></div>
</li>
<li>
<p>
Write kernel and initramfs to <em>boot</em> partition
</p>
<div class="paragraph"><p>Using the fastboot client on the workstation, write the <em>boot.img</em> image
containing the kernel and initramfs to the partition named <em>boot</em>.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt># fastboot flash boot boot.img</tt></pre>
</div></div>
</li>
<li>
<p>
Write root filesystem image to <em>userdata</em> partition
</p>
<div class="paragraph"><p>Using the fastboot client on the workstation, write the <em>ptux.img</em> image
containing the root filesystem to the partition named <em>userdata</em>.</p></div>
<div class="literalblock">
<div class="content">
<pre><tt># fastboot flash userdata ptux.img</tt></pre>
</div></div>
</li>
</ol></div>
<div class="paragraph"><p>Now the operating system has been installed on DragonBoard&#8482; and it is ready
to be booted for the first time.</p></div>
</div>
<h2 id="_boot_dragonboard_8482_for_the_first_time">4. Boot DragonBoard&#8482; for the first time</h2>
<div class="sectionbody">
<div class="paragraph"><p>Before booting DragonBoard&#8482; for the first time, connect a serial terminal to
the only DE9 port. This port is the system&#8217;s console, the destination for
kernel log messages and a login prompt leading to a command shell. The serial
communication parameters are 115200-8-N-1 (115200 bits per second, 8 data bits,
no parity bit, and 1 stop bit).</p></div>
<div class="paragraph"><p>Reset the DragonBoard&#8482; by cycling power. Within seconds, the newly installed
kernel should boot and write considerable output to the serial console. The
very first time the operating system starts, it will go through a minute-long
installation procedure and automatically restart the board.</p></div>
<div class="paragraph"><p>The installation generates much debugging, informational, and warning output
due to the unusual state of the system at installation time and the
inconsistent use of logging levels by several of packages being installed.
While ignoring warnings is normally a bad practice, novice users can safely
ignore warnings in this output when installing a default configuration unless
the system fails to behave as expected after the after the first boot.</p></div>
</div>
<h2 id="_operate_the_dragonboard_8482">5. Operate the DragonBoard&#8482;</h2>
<div class="sectionbody">
<div class="paragraph"><p>On the second and all subsequent boots, a login prompt leading to a command
shell is offered on the serial port. The only account following a basic
installation is <em>root</em> with the password <em>password</em>.</p></div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Version Pre-Release Draft<br />
Last updated 2012-10-03 16:16:14 CDT
</div>
</div>

</div><!-- container -->
</div><!-- doc-main -->
</body>
</html>
